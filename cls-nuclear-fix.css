/* =====================================
   NUCLEAR CLS FIX - ABSOLUTE PREVENTION
   This overrides EVERYTHING to prevent CLS
   ===================================== */

/* FORCE disable ALL animations - highest priority */
*,
*::before,
*::after,
body *,
body.loaded *,
body.page-loaded * {
    animation: none !important;
    animation-duration: 0s !important;
    animation-delay: 0s !important;
    animation-iteration-count: 0 !important;
    animation-fill-mode: none !important;
}

/* FORCE disable ALL transforms that cause layout shifts */
*:not(.scroll-top) {
    transform: none !important;
}

.scroll-top {
    transform: translateY(100px) !important;
}

.scroll-top.show {
    transform: translateY(0) !important;
}

/* FORCE disable will-change */
* {
    will-change: auto !important;
}

/* Only allow safe transitions */
* {
    transition: opacity 0.15s ease !important;
}

a, button, .btn {
    transition: opacity 0.15s ease, background-color 0.15s ease, color 0.15s ease !important;
}

/* FORCE aspect ratios on ALL images */
img {
    aspect-ratio: attr(width) / attr(height);
    width: 100% !important;
    height: auto !important;
}

img[width="400"][height="300"],
img[loading="lazy"] {
    aspect-ratio: 4 / 3 !important;
}

img[width="60"][height="60"] {
    aspect-ratio: 1 / 1 !important;
    width: 60px !important;
    height: 60px !important;
}

/* Prevent hover effects */
*:hover {
    transform: none !important;
    scale: 1 !important;
}

/* Disable keyframes */
@keyframes pulse { from, to { transform: none; } }
@keyframes bounce { from, to { transform: none; } }
@keyframes fadeIn { from, to { opacity: 1; } }
@keyframes fadeInUp { from, to { transform: none; opacity: 1; } }
@keyframes fadeInDown { from, to { transform: none; opacity: 1; } }
@keyframes fadeInLeft { from, to { transform: none; opacity: 1; } }
@keyframes fadeInRight { from, to { transform: none; opacity: 1; } }
@keyframes slideInUp { from, to { transform: none; } }
@keyframes slideInDown { from, to { transform: none; } }
@keyframes zoomIn { from, to { transform: none; scale: 1; } }
@keyframes buttonPulse { from, to { transform: none; box-shadow: none; } }
@keyframes shimmer { from, to { background-position: 0 0; } }
@keyframes ring { from, to { transform: none; } }

/* CRITICAL: Prevent font loading shifts */
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif !important;
}

/* Prevent Intersection Observer animations */
.fade-in,
.animate-on-scroll,
[data-aos] {
    opacity: 1 !important;
    transform: none !important;
    animation: none !important;
}
